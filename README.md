# BookReads - Red Social para Lectores üìö\n\n## ‚úÖ Estado Actual: MVP Completo con Google Books API\n\n### üöÄ Funcionalidades Implementadas\n\n#### Backend (100% Completado)\n- ‚úÖ **Sistema de Autenticaci√≥n JWT** - Login, registro, refresh tokens\n- ‚úÖ **APIs REST Completas** - Users, Posts, Auth con validaciones\n- ‚úÖ **Base de Datos MySQL** - Schema avanzado con relaciones\n- ‚úÖ **Deploy en Railway** - Funcionando en producci√≥n\n- ‚úÖ **Google Books API Integration** - B√∫squeda h√≠brida con cache\n- ‚úÖ **Sistema de Posts con Libros** - Asociar libros a publicaciones\n\n#### Frontend (95% Completado)\n- ‚úÖ **App M√≥vil Ionic 8 + Angular 19** - Standalone components\n- ‚úÖ **Navegaci√≥n con Tabs** - 5 secciones principales\n- ‚úÖ **Sistema de Auth Completo** - Login, registro, persistencia\n- ‚úÖ **Feed de Posts** - Cards con libros asociados\n- ‚úÖ **Crear Posts con B√∫squeda de Libros** - Modal integrado\n- ‚úÖ **Cache Offline** - B√∫squedas recientes y datos cr√≠ticos\n- ‚è≥ **Primera APK** - Pendiente testing en dispositivo\n\n---\n\n## üèóÔ∏è Arquitectura del Proyecto\n\n### Stack Tecnol√≥gico\n```\nBackend:  Express + TypeScript + Prisma + MySQL + Railway\nFrontend: Ionic 8 + Angular 19 + Capacitor\nAPIs:     Google Books API + Cache h√≠brido\nDeploy:   Railway (Backend) + Capacitor (Mobile App)\n```\n\n### Estructura del Proyecto\n```\nbookreads-backend/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/        # Auth, User, Post, Book controllers\n‚îÇ   ‚îú‚îÄ‚îÄ services/          # Google Books service\n‚îÇ   ‚îú‚îÄ‚îÄ routes/            # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # Auth, validation, error handling\n‚îÇ   ‚îú‚îÄ‚îÄ models/            # TypeScript types\n‚îÇ   ‚îî‚îÄ‚îÄ scripts/           # Database seeding, testing\n‚îú‚îÄ‚îÄ prisma/                # Database schema\n‚îî‚îÄ‚îÄ dist/                  # Compiled JavaScript\n\nbookreads-frontend/\n‚îú‚îÄ‚îÄ src/app/\n‚îÇ   ‚îú‚îÄ‚îÄ core/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/      # Auth, Post, Book services\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/        # TypeScript interfaces\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guards/        # Route protection\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ interceptors/  # HTTP interceptors\n‚îÇ   ‚îú‚îÄ‚îÄ features/          # Pages (Auth, Home, Create, etc.)\n‚îÇ   ‚îú‚îÄ‚îÄ shared/            # Reusable components\n‚îÇ   ‚îî‚îÄ‚îÄ environments/      # Environment configs\n‚îî‚îÄ‚îÄ android/               # Capacitor Android project\n```\n\n---\n\n## üöÄ Instalaci√≥n y Setup\n\n### Prerrequisitos\n```bash\n# Node.js 18+ y npm\nnode --version  # >= 18.0.0\nnpm --version   # >= 9.0.0\n\n# Para desarrollo m√≥vil\nnpm install -g @ionic/cli @angular/cli\n```\n\n### 1. Backend Setup\n\n```bash\n# 1. Clonar e instalar dependencias\ncd bookreads-backend\nnpm install\n\n# 2. Configurar base de datos local (opcional)\n# Si tienes MySQL local, configurar .env\ncp .env.example .env\n# Editar DATABASE_URL en .env\n\n# 3. Setup de Prisma\nnpx prisma generate\nnpx prisma migrate dev  # Solo si usas DB local\n\n# 4. Poblar base de datos con datos de prueba\nnpm run seed\n\n# 5. Instalar axios (dependencia faltante)\nnpm install axios\nnpm install --save-dev @types/axios\n\n# 6. Ejecutar servidor\nnpm run dev\n# Servidor running en http://localhost:3000\n```\n\n### 2. Frontend Setup\n\n```bash\n# 1. Instalar dependencias\ncd bookreads-frontend\nnpm install\n\n# 2. Ejecutar en navegador\nionic serve\n# App running en http://localhost:8100\n\n# 3. Para testing m√≥vil - Generar APK\nionic capacitor add android\nionic capacitor run android\n```\n\n---\n\n## üß™ Testing y Verificaci√≥n\n\n### Backend Testing\n\n```bash\n# 1. Verificar que el servidor est√© funcionando\ncurl http://localhost:3000/health\n\n# 2. Probar Google Books API\nnpm run test:books\n\n# 3. Verificar datos en base de datos\ncurl http://localhost:3000/api/debug/check\n\n# 4. Probar b√∫squeda de libros (requiere auth)\ncurl \"http://localhost:3000/api/debug/test-books/harry%20potter\"\n```\n\n### Frontend Testing\n\n```bash\n# 1. En navegador\nionic serve\n# Ir a http://localhost:8100\n\n# 2. Login con usuario de prueba\n# Email: maria@email.com\n# Password: password123\n\n# 3. Probar crear post con libro\n# Ir a tab \"Crear\" ‚Üí Buscar libro ‚Üí Crear post\n\n# 4. Verificar feed\n# Ir a tab \"Home\" ‚Üí Ver posts con libros\n```\n\n---\n\n## üîß Configuraci√≥n de Producci√≥n\n\n### Variables de Entorno\n\n**Backend (.env en Railway):**\n```env\nDATABASE_URL=\"mysql://user:pass@host:port/db\"\nJWT_SECRET=\"your-jwt-secret\"\nJWT_REFRESH_SECRET=\"your-refresh-secret\"\nGOOGLE_BOOKS_API_KEY=\"your-google-books-api-key\"\nENABLE_RATE_LIMITING=\"false\"  # Para desarrollo\nNODE_ENV=\"production\"\n```\n\n**Frontend (environment.prod.ts):**\n```typescript\nexport const environment = {\n  production: true,\n  apiUrl: 'https://bookreads-backend-production.up.railway.app/api'\n};\n```\n\n### Google Books API Key (Opcional)\n\n1. Ir a [Google Cloud Console](https://console.cloud.google.com/)\n2. Crear proyecto o seleccionar existente\n3. Habilitar \"Books API\"\n4. Crear credenciales ‚Üí API Key\n5. Agregar a variables de entorno\n\n**Nota:** Sin API key funciona con 1000 requests/d√≠a gratis\n\n---\n\n## üì± Construcci√≥n de APK\n\n```bash\n# 1. Asegurar que Android est√© configurado\nionic capacitor add android\n\n# 2. Build de producci√≥n\nionic build --prod\n\n# 3. Sincronizar con Capacitor\nionic capacitor sync android\n\n# 4. Abrir en Android Studio\nionic capacitor open android\n\n# 5. O build directo desde CLI\ncd android\n./gradlew assembleDebug\n# APK generado en: android/app/build/outputs/apk/debug/\n```\n\n---\n\n## üîç Endpoints Principales\n\n### Backend APIs\n\n**Autenticaci√≥n:**\n- `POST /api/auth/login` - Login de usuario\n- `POST /api/auth/register` - Registro de usuario\n- `POST /api/auth/refresh` - Refresh token\n\n**Posts:**\n- `GET /api/posts` - Obtener todos los posts\n- `POST /api/posts` - Crear post (con libro opcional)\n- `POST /api/posts/:id/like` - Like a post\n\n**Libros:**\n- `GET /api/books/search?q=query` - Buscar libros\n- `GET /api/books/google/:googleId` - Obtener libro espec√≠fico\n- `GET /api/books/cache/stats` - Estad√≠sticas de cache\n\n**Debug (Temporal):**\n- `GET /api/debug/check` - Verificar estado de BD\n- `GET /api/debug/test-books/:query` - Probar Google Books API\n- `POST /api/debug/seed` - Poblar BD con datos de prueba\n\n---\n\n## üöÄ Deploy en Producci√≥n\n\n### Backend (Railway) ‚úÖ COMPLETADO\n```\nURL: https://bookreads-backend-production.up.railway.app\nEstado: üü¢ Online y funcionando\nBase de datos: MySQL en Railway\n```\n\n### Frontend (APK)\n```bash\n# 1. Build de producci√≥n\nionic build --prod\n\n# 2. Generar APK firmada\n# En Android Studio:\n# Build ‚Üí Generate Signed Bundle/APK ‚Üí APK\n# Crear keystore y firmar\n\n# 3. Publicar en Google Play Console\n# - Crear cuenta desarrollador ($25 una vez)\n# - Subir APK firmada\n# - Configurar metadatos\n# - Publicar en testing interno ‚Üí beta ‚Üí producci√≥n\n```\n\n---\n\n## üêõ Troubleshooting\n\n### Problemas Comunes\n\n**1. Error de conexi√≥n a base de datos:**\n```bash\n# Verificar DATABASE_URL en .env\n# O usar Railway BD directamente\nnpx prisma studio  # Verifica conexi√≥n\n```\n\n**2. Error en Google Books API:**\n```bash\n# Sin API key funciona con l√≠mites\n# Verificar logs del servidor para detalles\nnpm run test:books\n```\n\n**3. Frontend no conecta con backend:**\n```typescript\n// Verificar URL en src/environments/environment.ts\nexport const environment = {\n  apiUrl: 'http://localhost:3000/api'  // Para desarrollo\n};\n```\n\n**4. APK no instala:**\n```bash\n# Verificar permisos de instalaci√≥n\n# Habilitar \"Instalar apps desconocidas\" en Android\n# O usar Android Studio para debug\n```\n\n---\n\n## üìã Pr√≥ximos Pasos\n\n### Inmediatos (Esta Semana)\n- [ ] **Instalar axios** en backend\n- [ ] **Primera APK** para testing\n- [ ] **Testing integral** en dispositivo Android\n- [ ] **Configurar Google Books API Key** (opcional)\n\n### Pr√≥ximas Funcionalidades (2-4 semanas)\n- [ ] **Upload de im√°genes** para posts\n- [ ] **Listas de lectura** personalizadas\n- [ ] **Estad√≠sticas de lectura** del usuario\n- [ ] **Notificaciones push** con Firebase\n- [ ] **Modo offline** robusto\n\n### Publicaci√≥n (1-2 meses)\n- [ ] **Google Play Store** - Testing interno ‚Üí Beta ‚Üí Producci√≥n\n- [ ] **iOS version** (opcional, requiere Mac + $99/a√±o)\n- [ ] **Analytics y crash reporting**\n- [ ] **Feedback de usuarios beta**\n\n---\n\n## üë• Usuarios de Prueba\n\n```\nEmail: maria@email.com      | Password: password123\nEmail: carlos@email.com     | Password: password123\nEmail: ana@email.com        | Password: password123\nEmail: roberto@email.com    | Password: password123\nEmail: elena@email.com      | Password: password123\n```\n\n---\n\n## üìû Soporte\n\n- **Documentaci√≥n:** Este README\n- **Logs Backend:** Railway dashboard o `npm run dev`\n- **Logs Frontend:** Browser console o `ionic serve`\n- **Database:** `npx prisma studio` para interface visual\n\n**El proyecto est√° en un estado s√≥lido y listo para usuarios beta! üéâ**\n